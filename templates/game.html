{% extends 'layout.html' %}

{% block body %}
<table style="width:100%">
        <!-- Headers for the table -->
        <tr>
            <th>Date Added</th>
            <th>User Added</th>
            <th>Description</th>
            <th>Date Published</th>
            <th>Publisher</th>
            <th>Developer</th>
        </tr>
        <!-- Here the data pulled from the database is displayed with html -->
        <h2>
            {{ game.name }}
        </h2>
        <tr>
            <td>
            {{ game.dateadded }}
            </td>
            <td>
            {{ game.useradded }}
            </td>
            <td>
            {{ game.description }}
            </td>
            <td>
            {{ game.datepublished }}
            </td>
            <td>
            {{ game.publisher }}
            </td>
            <td>
            {{ game.developer }}
            </td>
        </tr>
    </table>

    {% if session.get('user') %}
    <form method="POST" name="comment" action="/comment/{{ game.ID }}">
        <input type="submit" value="Comment">
        <input type="text" name="comment">
        <input type="hidden" value="{{ request.path }}" name="from"> <!-- change to full.path if i need to do fancy stuff-->
    </form>
    {% endif %}

    <table style="width:25%">
        <!-- headers for table -->
        <tr>
            <th>Comment</th>
            <th>User</th>

        </tr>
        <!-- here the data from the comments table of the database is displayed-->
        {% for comment in game.comments %}
        <tr>
            <td>
                {{ comment.comment }}
            </td>
            <td>{{ comment.userinfo.username }} </td>
        </tr>
        {% endfor %}
    </table>

{% endblock body %}